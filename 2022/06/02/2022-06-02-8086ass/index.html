<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="computer science">
    
    <meta name="author" content="fetch150zy">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://fetch150zy.github.io/2022/06/02/2022-06-02-8086ass/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="学习计算机组成原理必备知识，作为最经典的x86系列cpu，值得每个人学习 基础知识cpu 内存 by 地址线，数据线，控制线 地址总线 地址总线代表了寻址能力 exp: 一个cpu有10根地址总线，则可传输10位二进制数据（2^10)  数据总线 exp: 16根数据总线可以一次传送两个字节（大小为2^16） 如果传送的数据大于总线宽度，则分多次传送，小于等于总线宽度可一次传送 exp: 89D8">
<meta property="og:type" content="article">
<meta property="og:title" content="8086汇编">
<meta property="og:url" content="https://fetch150zy.github.io/2022/06/02/2022-06-02-8086ass/index.html">
<meta property="og:site_name" content="fetch150zy&#39;blog">
<meta property="og:description" content="学习计算机组成原理必备知识，作为最经典的x86系列cpu，值得每个人学习 基础知识cpu 内存 by 地址线，数据线，控制线 地址总线 地址总线代表了寻址能力 exp: 一个cpu有10根地址总线，则可传输10位二进制数据（2^10)  数据总线 exp: 16根数据总线可以一次传送两个字节（大小为2^16） 如果传送的数据大于总线宽度，则分多次传送，小于等于总线宽度可一次传送 exp: 89D8">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-06-02T01:29:46.000Z">
<meta property="article:modified_time" content="2024-03-23T05:44:41.272Z">
<meta property="article:author" content="fetch150zy">
<meta property="article:tag" content="汇编语言">
<meta name="twitter:card" content="summary">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/img/pacman.png" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/pacman.png">
    <meta name="theme-color" content="#7FCDCD">
    <link rel="shortcut icon" href="/img/pacman.png">
    <!--- Page Info-->
    
    <title>
        
            8086汇编 -
        
        fetch150zy&#39;s blog
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    
<script src="/js/libs/anime.min.js"></script>

    <h1 class="ml13">
        fetch150zy&#39;s blog
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"fetch150zy.github.io","root":"/","language":"zh-CN"};
    window.theme = {"articles":{"style":{"font_size":"18px","line_height":1.4,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"center","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":false,"count":false,"min2read":false},"author_label":{"enable":false,"auto":false,"list":[]},"code_block":{"copy":false,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":6,"number":false,"expand":true,"init_open":true},"copyright":{"enable":false,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":null,"skip_dirs":[]}},"colors":{"primary":"#7FCDCD","secondary":null,"default_mode":"dark"},"global":{"fonts":{"chinese":{"enable":null,"family":null,"url":null},"english":{"enable":null,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":false,"site_pv":false,"site_uv":false,"post_pv":false},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/img/bg15.jpg","dark":"/img/bg15.jpg"},"title":"fetch150zy's blog","subtitle":{"text":["年年岁岁花相似，岁岁年年人不同"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.3},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/fetch150zy","bilibili":"https://space.bilibili.com/505867894","stack-overflow":"https://stackoverflow.com/users/16738249/fetch150zy","email":"mailto:mars_zhewei@outlook.com"},"qrs":{"weixin":"https://pic.fetch150zy.cn/weixin.png"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.6.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Blog":"https://fetch150zy.cn","Github":"https://github.com/fetch150zy"}}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":3,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"right","first_item":"info","announcement":null,"show_on_mobile":true,"links":{"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"YYYY-MM-DD","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":null};
    window.lang_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
        
<link rel="stylesheet" href="/fontawesome/sharp-solid.min.css">

    
<meta name="generator" content="Hexo 7.1.1"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/img/pacman.png">
                </a>
            
            <a class="logo-title" href="/">
                
                fetch150zy&#39;s blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    首页
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    归档
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    关于
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://fetch150zy.cn">
                                                    BLOG
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/fetch150zy">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                首页
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                归档
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                关于
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://fetch150zy.cn">BLOG</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/fetch150zy">GITHUB</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/tags"
                        >
                            <span>Tags</span>
                            <i class="fa-regular fa-tags fa-sm fa-fw"></i>
                        </a>
                    </li>
                
                    
                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full active"
                           href="/categories"
                        >
                            <span>Categories</span>
                            <i class="fa-regular fa-folder fa-sm fa-fw"></i>
                        </a>
                    </li>
                
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">21</div>
        <div class="label text-third-text-color text-sm">标签</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">18</div>
        <div class="label text-third-text-color text-sm">分类</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">54</div>
        <div class="label text-third-text-color text-sm">文章</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                
                
                <img src="/../img/bg/15.png" alt="8086汇编" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/>
                
                <div class="w-full flex items-center absolute bottom-0 justify-center">
                    <h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-bold backdrop-blur-lg rounded-xl border border-border-color ">8086汇编</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/img/avatar.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">fetch150zy</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2022-06-02 09:29:46</span>
        <span class="mobile">2022-06-02 09:29:46</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-03-23 13:44:41</span>
            <span class="mobile">2024-03-23 13:44:41</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Assembly/">Assembly</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/">汇编语言</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <p>学习计算机组成原理必备知识，作为最经典的x86系列cpu，值得每个人学习</p>
<h1 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h1><h2 id="cpu-内存-by-地址线，数据线，控制线"><a href="#cpu-内存-by-地址线，数据线，控制线" class="headerlink" title="cpu 内存 by 地址线，数据线，控制线"></a>cpu 内存 by 地址线，数据线，控制线</h2><ol>
<li><p><strong>地址总线</strong></p>
<p>地址总线代表了寻址能力</p>
<p>exp: 一个cpu有10根地址总线，则可传输10位二进制数据（2^10)</p>
</li>
<li><p><strong>数据总线</strong></p>
<p>exp: 16根数据总线可以一次传送两个字节（大小为2^16）</p>
<p>如果传送的数据大于总线宽度，则分多次传送，小于等于总线宽度可一次传送</p>
<p>exp: 89D8H在总线宽度为16的cpu中，第一次传送D8,第二次传送89</p>
</li>
<li><p><strong>控制总线</strong></p>
<p>exp: 对内存的读写命令</p>
</li>
</ol>
<h2 id="内存地址空间"><a href="#内存地址空间" class="headerlink" title="内存地址空间"></a>内存地址空间</h2><ul>
<li><p>所有的物理存储器都被看作是一个由若干存储单元组成的逻辑存储器，每个物理存储器在这个逻辑存储器中占有一个地址段，即一段地址空间</p>
<p>exp: 地址0～7FFFH的32KB空间为主随机存储器的地址空间</p>
<p>​		地址8000H～9FFFH的8KB空间为显存地址空间</p>
<p>​		……</p>
<blockquote>
<p>  这里有内存虚拟化的概念</p>
</blockquote>
</li>
</ul>
<h1 id="寄存器"><a href="#寄存器" class="headerlink" title="寄存器"></a>寄存器</h1><h2 id="字在寄存器中的存储"><a href="#字在寄存器中的存储" class="headerlink" title="字在寄存器中的存储"></a>字在寄存器中的存储</h2><ul>
<li><p>&#x3D;&#x3D;字节(byte)&#x3D;&#x3D;：一个字节由8个bit组成，可以存放在8位寄存器中</p>
</li>
<li><p>&#x3D;&#x3D;字(word)&#x3D;&#x3D;：一个字由两个字节组成，这两个字节分别称为这个字的高位字节和低位字节，一个字可以存放在一个16位的寄存器中，AX可分为AH，AL</p>
<blockquote>
<p>  针对十六位cpu，一个word为两个byte</p>
</blockquote>
</li>
</ul>
<h2 id="几条汇编命令"><a href="#几条汇编命令" class="headerlink" title="几条汇编命令"></a>几条汇编命令</h2><ul>
<li>几个通用寄存器（一般用来存放一般数据）：<code>AX、 BX、 CX、 DX</code></li>
</ul>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov ax, 18	# 将18送入寄存器AX</span><br><span class="line">mov ah, 78	# 将78送入寄存器AH</span><br><span class="line">add ax, 8	# 将寄存器AX中的数值加8</span><br><span class="line">mov ax, bx	# 将寄存器BX中的数值送入寄存器AX</span><br><span class="line">add ax, bx 	# 将AX和BX中的数值相加，存在AX中</span><br></pre></td></tr></table></figure></div>

<p>tip 1： 指令或一个寄存器的名称时不区分大小写</p>
<p>tip 2： 操作后数据如果超过寄存器所能存放的最大数据，数据会截取低位存放在寄存器中</p>
<p>tip 3： 操作对象要是相同的位数</p>
<h2 id="关于多少位CPU的一些概念（以16位为例）"><a href="#关于多少位CPU的一些概念（以16位为例）" class="headerlink" title="关于多少位CPU的一些概念（以16位为例）"></a>关于多少位CPU的一些概念（以16位为例）</h2><ul>
<li>运算器最多可以处理16位的数据</li>
<li>寄存器的最大宽度为16位</li>
<li>寄存器和运算器之间的通路为16位</li>
</ul>
<h2 id="8086CPU给出物理地址的方法"><a href="#8086CPU给出物理地址的方法" class="headerlink" title="8086CPU给出物理地址的方法"></a>8086CPU给出物理地址的方法</h2><ul>
<li><p>CPU中的相关部件提供两个16位的地址，一个称为&#x3D;&#x3D;段地址&#x3D;&#x3D;，一个称为&#x3D;&#x3D;偏移地址&#x3D;&#x3D;（物理地址&#x3D;段地址×16+偏移地址）</p>
<blockquote>
<p>  8086通过两个16地址来合成一个20位物理地址（通过地址加法器）</p>
</blockquote>
</li>
<li><p>地址加法器通过内部总线将20位物理地址送入输入输出控制电路</p>
</li>
<li><p>输入输出控制电路将20位物理地址送上地址总线（20位的地址总线）</p>
</li>
<li><p>20位物理地址被地址总线送到存储器</p>
<p>CPU可以用不同的段地址和偏移地址形成同一个物理地址</p>
</li>
</ul>
<h2 id="CS-IP"><a href="#CS-IP" class="headerlink" title="CS&amp;IP"></a>CS&amp;IP</h2><ul>
<li><p>段寄存器，8086有4个段寄存器：<code>CS、 DS、 SS、 ES</code></p>
</li>
<li><p>CS和IP是8086中最关键的两个寄存器：CS为代码段寄存器，IP为指令指针寄存器</p>
<blockquote>
<p>  他们指定了CPU当前要读取指令的地址</p>
</blockquote>
</li>
<li><p>任意时刻CS内容为M，IP内容为N，CPU将从内存M×16+N单元开始，读取一条指令并执行</p>
</li>
<li><p>读取一条指令后，IP的值自动增加，以使CPU可以读取下一条指令</p>
<p>8086CPU的工作过程可以简述如下：</p>
<ol>
<li>从CS:IP指向的内存单元读取指令，读取的指令进入指令缓冲器</li>
<li>IP&#x3D;IP+所读取的指令的长度，从而指向下一条指令</li>
<li>执行指令，转到步骤1,重复这个过程</li>
</ol>
</li>
</ul>
<h2 id="修改CS、IP"><a href="#修改CS、IP" class="headerlink" title="修改CS、IP"></a>修改CS、IP</h2><ul>
<li><p>jmp指令：jmp 段地址：偏移地址</p>
<p>exp：jmp 2AE3：3，执行后，CS&#x3D;2AE3H，IP&#x3D;0003H，CPU将从2AE33H处读取指令</p>
<p>若只想修改IP的内容，可用形如“jmp 某一合法寄存器”的指令完成</p>
<p>exp：jmp ax  &lt;—&gt;  mov IP, ax（mov并非真的有此条命令）</p>
</li>
</ul>
<h2 id="代码段"><a href="#代码段" class="headerlink" title="代码段"></a>代码段</h2><ul>
<li>若想让CPU自动执行代码段，需要将CS、IP设置为代码段的段地址</li>
</ul>
<h2 id="DosBox中debug的一些常用用法"><a href="#DosBox中debug的一些常用用法" class="headerlink" title="DosBox中debug的一些常用用法"></a>DosBox中debug的一些常用用法</h2><div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">debug</span><br><span class="line">-r				# 查看寄存器的值</span><br><span class="line">-r CS			# 修改寄存器的值</span><br><span class="line">-d 										# CS:IP -&gt; CS:IP+0070</span><br><span class="line">-d segment:start_offset   end_offset	# 查看内存</span><br><span class="line">-e segment:start_offset  val1 val2 ...	# 修改内存</span><br><span class="line">-a 			# 开始编写指令</span><br><span class="line">-u 			# 查看内存中的指令</span><br><span class="line">-t 			# 从CS:IP处开始执行指令</span><br></pre></td></tr></table></figure></div>



<h1 id="寄存器（内存访问）"><a href="#寄存器（内存访问）" class="headerlink" title="寄存器（内存访问）"></a>寄存器（内存访问）</h1><h2 id="DS和-address"><a href="#DS和-address" class="headerlink" title="DS和[address]"></a>DS和[address]</h2><ul>
<li><p>exp：DS存放待访问数据的段地址</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov bx, 1000H</span><br><span class="line">mov ds, bx</span><br><span class="line">mov al, [0]</span><br><span class="line"># 将一个内存单元中的内容送入一个寄存器中，格式：mov 寄存器名，内存单元地址</span><br><span class="line"># [0]中的0表示内存单元的偏移地址，内存单元的段地址为DS中的数据</span><br></pre></td></tr></table></figure></div>

<p>上面三条指令将10000H（1000：0）中的数据读到al中</p>
<p>为啥不能直接将1000H存到DS中呢？</p>
<p>因为DS是段寄存器，不支持将数据直接送入寄存器的操作</p>
<blockquote>
<p>  这是8086CPU硬件设计的问题</p>
</blockquote>
</li>
</ul>
<h2 id="mov、add、sub指令"><a href="#mov、add、sub指令" class="headerlink" title="mov、add、sub指令"></a>mov、add、sub指令</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># mov</span><br><span class="line">mov 寄存器， 数据</span><br><span class="line">mov 寄存器， 寄存器</span><br><span class="line">mov 寄存器， 内存单元</span><br><span class="line">mov 寄存器， 段寄存器</span><br><span class="line">mov 内存单元， 寄存器</span><br><span class="line">mov 内存单元， 段寄存器</span><br><span class="line">mov 段寄存器， 寄存器</span><br><span class="line">mov 段寄存器， 内存单元</span><br><span class="line">#add &amp; sub</span><br><span class="line">add 寄存器， 数据</span><br><span class="line">add 寄存器， 寄存器</span><br><span class="line">add 寄存器， 内存单元</span><br><span class="line">add 内存单元， 寄存器</span><br><span class="line">sub与add类似</span><br></pre></td></tr></table></figure></div>



<h2 id="数据段"><a href="#数据段" class="headerlink" title="数据段"></a>数据段</h2><ul>
<li><p>在编程时可以根据需要将一组内存单元定义为一个段</p>
</li>
<li><p>exp</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 字节型数据</span><br><span class="line">mov ax, 123BH</span><br><span class="line">mov ds, ax		; 将123BH送入ds中，作为数据段的段地址</span><br><span class="line">mov al, 0		; 用al存放累加结果</span><br><span class="line">add al, [0]		; 将数据段第一个单元（偏移地址为0）中的数值加到al中</span><br><span class="line">add al, [1]		; 将数据段第二个单元（偏移地址为1）中的数值加到al中</span><br><span class="line">add al, [2]		; 将数据段第三个单元（偏移地址为2）中的数值加到al中</span><br><span class="line"># 字型数据</span><br><span class="line">mov ax, 123BH</span><br><span class="line">mov ds, ax		; 将123BH送入ds中，作为数据段的段地址</span><br><span class="line">mov ax, 0		; 用al存放累加结果</span><br><span class="line">add ax, [0]		; 将数据段第一个字（偏移地址为0）中的数值加到al中</span><br><span class="line">add ax, [2]		; 将数据段第二个字（偏移地址为2）中的数值加到al中</span><br><span class="line">add ax, [4]		; 将数据段第三个字（偏移地址为4）中的数值加到al中</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="CPU提供的栈机制"><a href="#CPU提供的栈机制" class="headerlink" title="CPU提供的栈机制"></a>CPU提供的栈机制</h2><ul>
<li><p>push和pop</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">push ax		; 表示将寄存器ax中的数据送入栈中</span><br><span class="line">pop ax		; 表示从栈顶取出数据送入ax</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>SS &amp; SP，段寄存器SS存放栈顶的段地址，寄存器SP存放栈顶的偏移地址，push和pop指令执行时，CPU从SS和SP中得到栈顶的地址</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">push ax 的执行由以下两步完成</span><br><span class="line">SP=SP-2，SS：SP指向当前栈顶前面的单元，以当前栈顶前面的单元为新的栈顶</span><br><span class="line">将ax中的内容送入到SS：SP指向的内存单元处，SS：SP此时指向新栈顶</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pop ax 的执行与 push ax刚好相反</span><br><span class="line">将SS：SP指向的内存单元处的数据送入ax中</span><br><span class="line">SP=SP+2,SS：SP指向当前栈顶下面的单元，以当前栈顶下面的单元为新的栈顶</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>栈满栈空标志</p>
<p>exp：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 以10010H～1001F作为栈空间</span><br><span class="line">栈空标志： SS = 1000H, SP = 0020H</span><br><span class="line">栈满标志： SS = 1000H, SP = 0010H                            </span><br></pre></td></tr></table></figure></div>
</li>
<li><p>push&amp; pop</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># push指令</span><br><span class="line">push 寄存器		</span><br><span class="line">push 段寄存器	    </span><br><span class="line">push 内存单元		</span><br><span class="line"># pop指令</span><br><span class="line">pop 寄存器			</span><br><span class="line">pop 段寄存器		</span><br><span class="line">pop 内存空间		</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="源程序"><a href="#源程序" class="headerlink" title="源程序"></a>源程序</h1><h2 id="汇编指令和伪指令"><a href="#汇编指令和伪指令" class="headerlink" title="汇编指令和伪指令"></a>汇编指令和伪指令</h2><ul>
<li><p>伪指令（由编译器处理）</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">assume cs:name	# 假设，它假设某一段寄存器与某一个用segment...ends定义的段相关联</span><br><span class="line">				# 此处将代码段name和CPU的段寄存器CS联系起来</span><br><span class="line">name segment	# 段的开始</span><br><span class="line">				# name将被编译，连接程序处理为一个段地址</span><br><span class="line">:</span><br><span class="line">name ends		# 段的结束</span><br><span class="line">end				# 整个程序结束的标志</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>汇编指令（由CPU执行）</p>
</li>
</ul>
<h2 id="源程序案例"><a href="#源程序案例" class="headerlink" title="源程序案例"></a>源程序案例</h2><ul>
<li><p>汇编程序从写出到执行的全部过程</p>
<p>编程  ~  name.asm  ~  编译  ~  name.obj  ~  连接  ~  name.exe  ~  加载  ~  内存中的程序  ~  运行</p>
<p>edit								masm						link						command</p>
</li>
</ul>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">assume cs:abc	; abc被用作代码段，可以将abc与cs连接起来</span><br><span class="line">abc segment		; 定义了一个段，名称为abc</span><br><span class="line">	mov ax, 2</span><br><span class="line">	add ax, ax</span><br><span class="line">	add ax, ax</span><br><span class="line">	</span><br><span class="line">	mov ax, 4c00H	; 程序返回</span><br><span class="line">	int 21H			; 在debug时 -p 指令结束程序</span><br><span class="line">abc ends</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure></div>

<h1 id="BX-和loop指令"><a href="#BX-和loop指令" class="headerlink" title="[BX]和loop指令"></a>[BX]和loop指令</h1><h2 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h2><ul>
<li><p>[bx]与[0]类似，只是[bx]表示偏移地址存在bx中</p>
</li>
<li><p>loop，和循环有关</p>
</li>
<li><p>idata表示常量，exp：mov ax, idata 就代表 mov ax, 1 ; mov ax, 2 等</p>
</li>
<li><p>段前缀，ds： ，cs： ， ss：等在汇编语言中称为段前缀</p>
</li>
<li><p>（）表示一个寄存器（段寄存器）或内存单元中的内容，exp：（al）表示al中的内容，（20000H）表示20000H单元的内容</p>
<p>（X）所表示的数据有两种类型，（al）为字节型，（ax）为字型</p>
</li>
</ul>
<h2 id="LOOP指令"><a href="#LOOP指令" class="headerlink" title="LOOP指令"></a>LOOP指令</h2><ul>
<li><p>通过loop简化程序求2^12</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">    mov ax, 2</span><br><span class="line">    mov cx, 11</span><br><span class="line">s:	add ax, ax</span><br><span class="line">	loop s				; debug时如果想要快速跳过loop，可以使用-p 或者直接-g next_command</span><br><span class="line">	mov ax, 4c00H									; next_command所在的地址</span><br><span class="line">	int 21H</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>实现ffff:0~ffff:b中的8位数据，累加到16位寄存器dx中</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">	mov ax, 0ffffH</span><br><span class="line">	mov ds, ax	</span><br><span class="line">	mov bx, 0	; 初始化ds:bx指向ffff:0</span><br><span class="line">	mov dx, 0	; 初始化累加寄存器（dx）=0</span><br><span class="line">	mov cx, 12	; 循环计数器</span><br><span class="line">	</span><br><span class="line">s:	mov al, [bx]	; ax为中间变量</span><br><span class="line">	mov ah, 0</span><br><span class="line">	add dx, ax</span><br><span class="line">	inc bx			; add bx, 1</span><br><span class="line">	loop s</span><br><span class="line">	</span><br><span class="line">	mov ax, 4c00H</span><br><span class="line">	int 21H</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="段前缀的使用"><a href="#段前缀的使用" class="headerlink" title="段前缀的使用"></a>段前缀的使用</h2><ul>
<li><p>将内存ffff:0 ~ ffff:b单元中的数据复制到0:200 ~ 0:20b单元中</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">	mov bx, 0		; 偏移地址</span><br><span class="line">	mov cx, 12		; 计数器</span><br><span class="line">s: 	mov ax, 0ffffh	</span><br><span class="line">	mov ds, ax		; (ds)=ffffh</span><br><span class="line">	mov dl, [bx]	; 将ffff:bx中的数据送入dl</span><br><span class="line">	mov ax, 0020h</span><br><span class="line">	mov ds, ax		; (ds)=0020h</span><br><span class="line">	mov [bx], dl	; 将dl中的数据送入0020:bx</span><br><span class="line">	inc bx</span><br><span class="line">	loop s</span><br><span class="line">	</span><br><span class="line">	mov ax, 4c00h</span><br><span class="line">	int 21h</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>在每次循环的过程中，都要设置两次ds（ffff:X和0020:X相距大于64KB，在不同的64KB段里）效率不高，可以通过设置两个段寄存器</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">	mov ax, 0ffffh</span><br><span class="line">	mov ds, ax</span><br><span class="line">	mov ax, 0020h</span><br><span class="line">	mov es, ax</span><br><span class="line">	</span><br><span class="line">	mov bx, 0		; 偏移地址</span><br><span class="line">	mov cx, 12		; 计数器</span><br><span class="line">s: 	mov ax, 0ffffh	</span><br><span class="line">	mov dl, ds:[bx]	; 将ffff:bx中的数据送入dl</span><br><span class="line">	mov es:[bx], dl	; 将dl中的数据送入0020:bx</span><br><span class="line">	inc bx</span><br><span class="line">	loop s</span><br><span class="line">	</span><br><span class="line">	mov ax, 4c00h</span><br><span class="line">	int 21h</span><br><span class="line">code ends</span><br><span class="line">end</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="包含多个段的程序"><a href="#包含多个段的程序" class="headerlink" title="包含多个段的程序"></a>包含多个段的程序</h1><h2 id="在代码段中使用数据"><a href="#在代码段中使用数据" class="headerlink" title="在代码段中使用数据"></a>在代码段中使用数据</h2><ul>
<li><p>计算给定八个数据的和，结果存在ax寄存器中</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">	dw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedf, 0cbah, 0987h</span><br><span class="line">	# dw: define word，使用dw定义了8个字型数据（大小16字节）</span><br><span class="line">    start:  mov bx, 0	; 偏移地址</span><br><span class="line">    # 通过start: end start指明程序入口（即第一条要执行的命令）</span><br><span class="line">            mov ax, 0	</span><br><span class="line"></span><br><span class="line">            mov cx, 8	; 计数器</span><br><span class="line">    s:		add ax, cs:[bx]</span><br><span class="line">            add bx, 2</span><br><span class="line">            loop s</span><br><span class="line"></span><br><span class="line">            mov ax, 4c00h</span><br><span class="line">            int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>框架</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">		数据</span><br><span class="line">    start:  </span><br><span class="line">    	代码</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="在代码段中使用栈"><a href="#在代码段中使用栈" class="headerlink" title="在代码段中使用栈"></a>在代码段中使用栈</h2><ul>
<li><p>利用栈将程序中定义的数据逆序存放</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg</span><br><span class="line">codeseg segment</span><br><span class="line">	dw 0123h, 0456h, 0789h, 0abch, 0defh, 0fedf, 0cbah, 0987h</span><br><span class="line">	# cs:00 ~ cs:0F作为数据空间</span><br><span class="line">	dw 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</span><br><span class="line">	# cs:10 ~ cs:2F作为栈空间</span><br><span class="line">	</span><br><span class="line">	start: 	mov ax, cs</span><br><span class="line">			mov ss, ax</span><br><span class="line">			mov sp, 30h		; 将栈顶设置为ss:sp指向cs:30</span><br><span class="line">			</span><br><span class="line">			mov bx, 0		; 偏移地址</span><br><span class="line">			mov cx, 8		; 计数器</span><br><span class="line">	s:		push cs:[bx] 	; 入栈</span><br><span class="line">			add bx, 2</span><br><span class="line">			loop s</span><br><span class="line">			</span><br><span class="line">			mov bx, 0</span><br><span class="line">			mov cx, 8</span><br><span class="line">	s0:		pop cs:[bx]		; 出栈</span><br><span class="line">			add bx, 2</span><br><span class="line">			loop s0</span><br><span class="line">			</span><br><span class="line">			mov ax, 4c00h</span><br><span class="line">			int 21h</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="将数据、代码、栈放入不同的段"><a href="#将数据、代码、栈放入不同的段" class="headerlink" title="将数据、代码、栈放入不同的段"></a>将数据、代码、栈放入不同的段</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code, ds:data, ss:stack</span><br><span class="line">data segment</span><br><span class="line">        dw 0123H, 0456H, 0789H, 0abcH, 0defH, 0fedH, 0cbaH, 0987H</span><br><span class="line">data ends</span><br><span class="line"></span><br><span class="line">stack segment stack</span><br><span class="line">        dw 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0</span><br><span class="line">stack ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:  mov ax, stack</span><br><span class="line">        mov ss, ax</span><br><span class="line">        mov sp, 20h</span><br><span class="line">        mov ax, data</span><br><span class="line">        mov ds, ax</span><br><span class="line"></span><br><span class="line">        mov bx, 0h</span><br><span class="line">        mov cx, 8h</span><br><span class="line"></span><br><span class="line">flag:   push ds:[bx]</span><br><span class="line">        add bx, 2</span><br><span class="line">        loop flag</span><br><span class="line"></span><br><span class="line">        mov bx, 0h</span><br><span class="line">        mov cx, 8h</span><br><span class="line"></span><br><span class="line">flag1:  pop ds:[bx]</span><br><span class="line">        add bx, 2</span><br><span class="line">        loop flag1</span><br><span class="line"></span><br><span class="line">        mov ax, 4c00h</span><br><span class="line">        int 21h</span><br><span class="line"></span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>



<h1 id="灵活的定位内存地址的方法"><a href="#灵活的定位内存地址的方法" class="headerlink" title="灵活的定位内存地址的方法"></a>灵活的定位内存地址的方法</h1><h2 id="and-和-or"><a href="#and-和-or" class="headerlink" title="and 和 or"></a>and 和 or</h2><ul>
<li><p>and指令：逻辑与指令，按位进行与运算</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov al, 01100011B</span><br><span class="line">and al, 00111011B</span><br><span class="line">; al = 00100011B</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>or指令：逻辑或指令，按位进行或运算</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov al, 01100011B</span><br><span class="line">or al, 00111011B</span><br><span class="line">; al = 01111011B</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="关于ascii码"><a href="#关于ascii码" class="headerlink" title="关于ascii码"></a>关于ascii码</h2><ul>
<li><p>以<code>‘ ’</code>方式指明数据以字符形式给出</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code, ds:data</span><br><span class="line">data segment</span><br><span class="line">        db &#x27;UNIX&#x27;, &#x27;fork&#x27;</span><br><span class="line">        db &#x27;hello&#x27;, &#x27;hi&#x27;, &#x27;nihao&#x27;</span><br><span class="line">data ends</span><br><span class="line"></span><br><span class="line">code segment     </span><br><span class="line">start:  mov ax, data</span><br><span class="line">        mov ds, ax</span><br><span class="line">        mov al, &#x27;a&#x27;</span><br><span class="line">        mov bl, &#x27;b&#x27;</span><br><span class="line">        mov ax, 4c00h</span><br><span class="line">        int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>大小写转换</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code, ds:data</span><br><span class="line">data segment</span><br><span class="line">        db &#x27;abcdefgh&#x27;</span><br><span class="line">        db &#x27;IJKLMNOP&#x27;</span><br><span class="line">data ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:  mov ax, data</span><br><span class="line">        mov ds, ax</span><br><span class="line"></span><br><span class="line">        mov cx, 8h</span><br><span class="line">        mov bx, 0h</span><br><span class="line"></span><br><span class="line">flag:   mov ax, 20h</span><br><span class="line">        sub ds:[bx], ax ; lower case to upper case</span><br><span class="line">        inc bx</span><br><span class="line">        loop flag</span><br><span class="line"></span><br><span class="line">        mov cx, 8h</span><br><span class="line">        mov bx, 8h</span><br><span class="line"></span><br><span class="line">flag1:  mov ax, 20h</span><br><span class="line">        add ds:[bx], ax ; upper case to lower case</span><br><span class="line">        inc bx</span><br><span class="line">        loop flag1</span><br><span class="line"></span><br><span class="line">        mov ax, 4c00h</span><br><span class="line">        int 21h</span><br><span class="line">code ends</span><br><span class="line"></span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>  利用小写字母第六位为1,大写字母第六位为0实现自动将小写字母转大写字母而大写字母不变</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code, ds:data</span><br><span class="line"></span><br><span class="line">data segment</span><br><span class="line">        db &#x27;VisualBasic&#x27;</span><br><span class="line">data ends</span><br><span class="line"></span><br><span class="line">code segment</span><br><span class="line">start:  mov ax, data</span><br><span class="line">        mov ds, ax</span><br><span class="line"></span><br><span class="line">        mov cx, 0Bh</span><br><span class="line">        mov bx, 0h</span><br><span class="line">        </span><br><span class="line">flag:   mov al, ds:[bx]</span><br><span class="line">        and al, 11011111b   ; if a letter is lower case, convert it to upper</span><br><span class="line">        mov ds:[bx], al</span><br><span class="line">        inc bx</span><br><span class="line">        loop flag</span><br><span class="line"></span><br><span class="line">        mov ax, 4c00h</span><br><span class="line">        int 21h</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="bx-idata"><a href="#bx-idata" class="headerlink" title="[bx + idata]"></a>[bx + idata]</h2><ul>
<li><p>几种常用写法</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov ax, [bx + idata]</span><br><span class="line">mov ax, [idata + bx]</span><br><span class="line">mov ax, idata[bx]</span><br><span class="line">mov ax, [bx].idata</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="SI-和-DI"><a href="#SI-和-DI" class="headerlink" title="SI 和 DI"></a>SI 和 DI</h2><blockquote>
<p>  si与di是与bx功能相近的寄存器，但是si和di不能拆分为两个八位寄存器</p>
</blockquote>
<ul>
<li><p>[bx + si] 和 [bx + di]</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">; 几种常用写法</span><br><span class="line">mov ax, [bx + si]</span><br><span class="line">mov ax, [bx][si]</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>[bx + si + idata]</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov ax, [bx + si + idata]</span><br><span class="line">mov ax, idata[bx + si]</span><br><span class="line">mov ax, idata[bx][si]</span><br><span class="line">mov ax, [bx][si].idata</span><br><span class="line">mov ax, [bx].idata[si]</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="数据处理的两个基本问题"><a href="#数据处理的两个基本问题" class="headerlink" title="数据处理的两个基本问题"></a>数据处理的两个基本问题</h1><h2 id="bx-di-si-bp"><a href="#bx-di-si-bp" class="headerlink" title="bx di si bp"></a>bx di si bp</h2><ul>
<li><p>在[…]中可以单独出现或以指定搭配出现</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov ax, [bx + si + idata]</span><br><span class="line">mov ax, [bx + di + idata]</span><br><span class="line">mov ax, [bp + si + idata]</span><br><span class="line">mov ax, [bp + di + idata]</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>  如果没有显式地给出段寄存器，默认为ds</p>
</blockquote>
</li>
</ul>
<h2 id="指令要处理的数据有多长"><a href="#指令要处理的数据有多长" class="headerlink" title="指令要处理的数据有多长"></a>指令要处理的数据有多长</h2><ul>
<li><p>一般操作中带寄存器可以根据寄存器来指定进行操作的是字还是字节</p>
</li>
<li><p>对于没有寄存器显式表明的</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov word ptr ds:[0], 1h</span><br><span class="line">inc byte ptr ds:[0]</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="div-指令"><a href="#div-指令" class="headerlink" title="div 指令"></a>div 指令</h2><ol>
<li><p>被除数为16位，除数为8位</p>
<blockquote>
<p>  被除数存放在AX中</p>
</blockquote>
<blockquote>
<p>  AL储存除法操作的商，AH储存除法操作的余数</p>
</blockquote>
</li>
<li><p>被除数为32位，除数为16位</p>
<blockquote>
<p>  被除数存放在DX、AX中</p>
<blockquote>
<p>  其中DX存放高16位，AX存放低16位</p>
</blockquote>
<p>  AX储存除法操作的商，DX储存除法操作的余数</p>
</blockquote>
</li>
</ol>
<h2 id="db-dw-dd-dup"><a href="#db-dw-dd-dup" class="headerlink" title="db dw dd dup"></a>db dw dd dup</h2><ul>
<li><p>db dw dd</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">; 定义数据的伪指令</span><br><span class="line">db		; byte</span><br><span class="line">dw		; word</span><br><span class="line">dd 		; double word</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>dup</p>
<blockquote>
<p>  主要用于定义重复的数据</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db 3 dup (0)		; db 0,0,0</span><br><span class="line">db 3 dup (0, 1, 2)	; db 0,1,2,0,1,2,0,1,2</span><br><span class="line"></span><br><span class="line">db 200 dup (0)		; 定义了200字节的栈</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="转移指令的原理"><a href="#转移指令的原理" class="headerlink" title="转移指令的原理"></a>转移指令的原理</h1><h2 id="offset"><a href="#offset" class="headerlink" title="offset"></a>offset</h2><blockquote>
<p>  取得标号的偏移地址</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">start:	mov ax, offset start	; mov ax, 0</span><br><span class="line">s:		mov ax, offset s		; mov ax, 3</span><br><span class="line">code ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>

<h2 id="jmp-指令"><a href="#jmp-指令" class="headerlink" title="jmp 指令"></a>jmp 指令</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nop		; 代表空指令(1 byte)</span><br></pre></td></tr></table></figure></div>

<h3 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h3><ul>
<li><p>段内短转移</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmp short label		; 其对应机器码不包含label的偏移地址，而是包含相对label偏移地址的相对位移</span><br><span class="line">(IP) = (IP) + 8位</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>段内近转移</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmp near ptr label</span><br><span class="line">(IP) = (IP) + 16位</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>段间转移</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmp far ptr label	; 对应机器码包含label处的段地址和偏移地址</span><br><span class="line">(CS)=label处的段地址	(IP)=label处的偏移地址</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="寄存器-1"><a href="#寄存器-1" class="headerlink" title="寄存器"></a>寄存器</h3><ul>
<li><p>转移地址在寄存器中的jmp指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmp reg</span><br><span class="line">(IP) = (reg)</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><ul>
<li><p>段内转移</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">jmp word ptr 内存单元地址(段内)</span><br><span class="line">(IP) = (ds:[bx])</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>段间转移</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">jmp dword ptr 内存单元地址(段间)</span><br><span class="line">(CS) = (内存单元地址+2) -&gt; 高地址</span><br><span class="line">(IP) = (内存单元地址)   -&gt; 低地址</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="有条件转移指令"><a href="#有条件转移指令" class="headerlink" title="有条件转移指令"></a>有条件转移指令</h2><blockquote>
<p>  所有的有条件转移指令都是短转移，对应机器码中包含转移的位移，不包含目的地址</p>
</blockquote>
<ul>
<li><p>jcxz</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">; 当cx等于0时，转移到标号处执行(相当于普通的短转移)</span><br><span class="line">; 当cx不等于0时，程序继续向下执行</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="循环指令"><a href="#循环指令" class="headerlink" title="循环指令"></a>循环指令</h2><blockquote>
<p>  所有的循环指令都是短转移，机器码对应的是位移而不是地址</p>
</blockquote>
<ul>
<li><p>loop</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loop label		; 当cx不为0时跳转到label处</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="CALL和RET指令"><a href="#CALL和RET指令" class="headerlink" title="CALL和RET指令"></a>CALL和RET指令</h1><h2 id="ret-和-retf"><a href="#ret-和-retf" class="headerlink" title="ret 和 retf"></a>ret 和 retf</h2><blockquote>
<p>  ret 指令用栈中的数据，修改IP的内容，从而实现近转移</p>
<p>  retf 指令用栈中的数据，修改CS和IP的内容，从而实现远转移</p>
</blockquote>
<ul>
<li><p>ret</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(IP) = ((SS)*16 + (SP))</span><br><span class="line">(SP) = (SP) + 2					; pop IP</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>retf</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(IP) = ((SS)*16 + (SP))</span><br><span class="line">(SP) = (SP) + 2</span><br><span class="line">(CS) = ((SS)*16 + (SP))</span><br><span class="line">(SP) = (SP) + 2					; pop IP, pop CS</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="call-指令"><a href="#call-指令" class="headerlink" title="call 指令"></a>call 指令</h2><blockquote>
<p>  将当前的IP或CS和IP压入栈中</p>
<p>  转移</p>
</blockquote>
<ul>
<li><p>依据位移进行转移的call指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">call label		; 将当前的IP压栈后，转到标号处执行指令</span><br><span class="line">; push IP</span><br><span class="line">; jmp near ptr label</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>转移的目的地址在指令中的call指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">call far ptr label		; 段间转移</span><br><span class="line">; push CS</span><br><span class="line">; push IP</span><br><span class="line">; jmp far ptr</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>转移地址在寄存器中的call指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">call reg		; 16位寄存器</span><br><span class="line">; push IP</span><br><span class="line">; jmp reg</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>转移地址在内存中的call指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">call word ptr 内存单元地址</span><br><span class="line">; push IP</span><br><span class="line">; jmp word ptr 内存单元地址</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">call dword ptr 内存单元地址</span><br><span class="line">; push CS</span><br><span class="line">; push IP</span><br><span class="line">; jmp dword ptr 内存单元地址</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="子程序框架"><a href="#子程序框架" class="headerlink" title="子程序框架"></a>子程序框架</h2><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">assume cs:code</span><br><span class="line">code segment</span><br><span class="line">main:	..</span><br><span class="line">		call sub1</span><br><span class="line">		..</span><br><span class="line">		mov ax, 4c00h</span><br><span class="line">		int 21h		</span><br><span class="line">sub1:	..</span><br><span class="line">		call sub2</span><br><span class="line">		..</span><br><span class="line">		ret</span><br><span class="line">sub2:	..</span><br><span class="line">		ret</span><br><span class="line">code ends</span><br><span class="line">end main</span><br></pre></td></tr></table></figure></div>

<h2 id="mul-指令"><a href="#mul-指令" class="headerlink" title="mul 指令"></a>mul 指令</h2><blockquote>
<p>  两个相乘的数位数要一致</p>
<blockquote>
<p>  如果都为8位，一个默认放在AL中，一个放在8位reg或内存字节单元中</p>
<p>  如果都为16位，一个默认放在AX中，一个放在16位reg或内存字节单元中</p>
</blockquote>
<p>  结果</p>
<blockquote>
<p>  8位乘法,结果默认放在AX中</p>
<p>  16位乘法,高位DX,低位AX</p>
</blockquote>
</blockquote>
<h1 id="标志寄存器"><a href="#标志寄存器" class="headerlink" title="标志寄存器"></a>标志寄存器</h1><blockquote>
<ol>
<li>用来存储相关指令的某些执行结果</li>
<li>用来为cpu执行相关指令提供行为依据</li>
<li>用来控制cpu的相关工作方式</li>
</ol>
</blockquote>
<h2 id="ZF-PF-SF-CF-OF-DF"><a href="#ZF-PF-SF-CF-OF-DF" class="headerlink" title="ZF PF SF CF OF DF"></a>ZF PF SF CF OF DF</h2><ul>
<li><p>ZF标志</p>
<blockquote>
<p>  零标志位,记录相关指令执行后是否为0.如果结果为0,zf &#x3D; 1,如果结果不为0,zf &#x3D; 0</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov ax, 1</span><br><span class="line">sub ax, 1		; zf = 1</span><br><span class="line">mov ax, 2</span><br><span class="line">sub ax, 1		; zf = 0</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>  影响标志寄存器的指令: add, sub, mul, div, inc, or, and</p>
<p>  不影响标志寄存器的指令: mov, push, pop</p>
</blockquote>
</li>
<li><p>PF标志</p>
<blockquote>
<p>  奇偶标志位,记录指令执行后所有bit中1的个数是否为偶数,为偶数,pf &#x3D; 1,为奇数,pf&#x3D;0</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mov al, 1</span><br><span class="line">add al, 10		; 00001011b, pf = 0</span><br><span class="line">mov al, 1</span><br><span class="line">or al, 2		; 00000011b, pf = 1</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>SF标志</p>
<blockquote>
<p>  符号标志位,指令执行后结果为负,sf &#x3D; 1,结果为正,sf &#x3D; 0</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">; 指令进行有符号运算 sf标志才有意义</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>CF标志</p>
<blockquote>
<p>  进位标志位,在进行无符号运算的时候,记录了最高有效位向更高位的进位值,或从更高位的借位值</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mov al, 98h</span><br><span class="line">add al, al		; al = 30h, cf = 1	进位</span><br><span class="line">mov al, 97h</span><br><span class="line">sub al, 98h		; al = ffh, cf = 1	借位</span><br><span class="line">sub al, al		; al = 0, cf = 0	借位</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>OF标志</p>
<blockquote>
<p>  溢出标志位,记录有符号数运算结果是否发生溢出,发生溢出,of &#x3D; 1,否则of &#x3D; 0</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov al, 0f0h</span><br><span class="line">add al, 88h		; cf = 1, of = 1 </span><br></pre></td></tr></table></figure></div>
</li>
<li><p>DF标志</p>
<blockquote>
<p>  方向标志位,控制每次操作后si, di的增减</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">; df = 0, (si di) inc, add &amp;, 2</span><br><span class="line">; df = 1, (si di) dec, sub &amp;, 2</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">movsb		; byte</span><br><span class="line">((es)*16+(di)) = ((ds)*16 + si)</span><br><span class="line">; df = 0</span><br><span class="line">inc si, inc di</span><br><span class="line">; df = 1</span><br><span class="line">dec si, dec di</span><br><span class="line"></span><br><span class="line">movsw		; word</span><br><span class="line">; df = 0</span><br><span class="line">add di/si, 2</span><br><span class="line">; df = 1</span><br><span class="line">sub di/si, 2</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rep movsb		; equals</span><br><span class="line">s:  movsb</span><br><span class="line">    loop s</span><br><span class="line">; rep movsw</span><br></pre></td></tr></table></figure></div>

<p>对DF位的操作指令</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cld		; df = 0</span><br><span class="line">std		; df = 1</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="adc-sbb-cmp"><a href="#adc-sbb-cmp" class="headerlink" title="adc sbb cmp"></a>adc sbb cmp</h2><ul>
<li><p>adc</p>
<blockquote>
<p>  带进位加法指令</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adc op1, op2</span><br><span class="line">; op1 = op1 + op2 + CF		数电里面的加法器原理</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>sbb</p>
<blockquote>
<p>  带借位减法指令</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sbb op1, op2</span><br><span class="line">; op1 = op1 - op2 - CF</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>cmp</p>
<blockquote>
<p>  比较指令,相对于减法指令不保存结果</p>
</blockquote>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cmp op1, op2</span><br><span class="line">; op1 = op1 - op2	仅根据结果对标志寄存器进行设置</span><br><span class="line">mov ax, 8</span><br><span class="line">mov bx, 3</span><br><span class="line">cmp ax, bx		; ax = 8, cf = 0</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="检测比较结果的条件转移指令"><a href="#检测比较结果的条件转移指令" class="headerlink" title="检测比较结果的条件转移指令"></a>检测比较结果的条件转移指令</h2><table>
<thead>
<tr>
<th align="center">指令</th>
<th align="center">含义</th>
<th align="center">检测相关标志位</th>
</tr>
</thead>
<tbody><tr>
<td align="center">je</td>
<td align="center">等于则转移</td>
<td align="center">zf &#x3D; 1</td>
</tr>
<tr>
<td align="center">jne</td>
<td align="center">不等于则转移</td>
<td align="center">zf &#x3D; 0</td>
</tr>
<tr>
<td align="center">jb</td>
<td align="center">低于则转移</td>
<td align="center">cf &#x3D; 1</td>
</tr>
<tr>
<td align="center">jnb</td>
<td align="center">不低于则转移</td>
<td align="center">cf &#x3D; 0</td>
</tr>
<tr>
<td align="center">ja</td>
<td align="center">高于则转移</td>
<td align="center">cf &#x3D; 0, zf &#x3D; 0</td>
</tr>
<tr>
<td align="center">jna</td>
<td align="center">不高于则转移</td>
<td align="center">cf &#x3D; 1, zf &#x3D; 1</td>
</tr>
</tbody></table>
<blockquote>
<p>  equal, below, above</p>
</blockquote>
<ul>
<li><p>pushf popf</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mov ax, 0				</span><br><span class="line">push ax</span><br><span class="line">popf					; PWD: 0000 0000 0000 0000</span><br><span class="line">mov ax, 0fff0h			</span><br><span class="line">add ax, 0010h			; PWD: 0000 0000 0100 0101</span><br><span class="line">pushf</span><br><span class="line">pop ax</span><br><span class="line">and al, 11000101B</span><br><span class="line">and ah, 00001000B</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>在debug中标志寄存器的表示</p>
<table>
<thead>
<tr>
<th align="center">标志</th>
<th align="center">值为1的标记</th>
<th align="center">值为0的标记</th>
</tr>
</thead>
<tbody><tr>
<td align="center">of</td>
<td align="center">OV</td>
<td align="center">NV</td>
</tr>
<tr>
<td align="center">sf</td>
<td align="center">NG</td>
<td align="center">PL</td>
</tr>
<tr>
<td align="center">zf</td>
<td align="center">ZR</td>
<td align="center">NZ</td>
</tr>
<tr>
<td align="center">pf</td>
<td align="center">PE</td>
<td align="center">PO</td>
</tr>
<tr>
<td align="center">cf</td>
<td align="center">CY</td>
<td align="center">NC</td>
</tr>
<tr>
<td align="center">df</td>
<td align="center">DN</td>
<td align="center">UP</td>
</tr>
</tbody></table>
</li>
</ul>
<h1 id="内中断"><a href="#内中断" class="headerlink" title="内中断"></a>内中断</h1><h2 id="中断过程"><a href="#中断过程" class="headerlink" title="中断过程"></a>中断过程</h2><ul>
<li>中断向量表</li>
</ul>
<blockquote>
<p>  8086cpu指定了中断向量表的位置 <code>0000:0000 0000:03FF</code><br>  每个中断类型码对应一个中断向量表的表项<br>  每一个表项中高地址存放CS,低地址存放IP</p>
</blockquote>
<ul>
<li><p>中断过程</p>
<ol>
<li>取得中断类型码</li>
<li>标志寄存器入栈</li>
<li>TF,IF &#x3D; 0</li>
<li>CS,IP入栈</li>
<li>设置CS,IP,进入中断处理程序</li>
</ol>
</li>
<li><p>中断处理程序的编写流程</p>
<ol>
<li>保存用到的寄存器</li>
<li>处理中断</li>
<li>恢复用到的寄存器</li>
<li>用iret指令返回        <code>pop IP, pop CS, popf</code></li>
</ol>
</li>
</ul>
<h1 id="端口"><a href="#端口" class="headerlink" title="端口"></a>端口</h1><h2 id="端口读写"><a href="#端口读写" class="headerlink" title="端口读写"></a>端口读写</h2><blockquote>
<p>  通过in, out指令来从端口读入数据或向端口写入数据</p>
</blockquote>
<ul>
<li><p>0 ~ 255</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">in al, 20h		; 向20h端口读入一个字节</span><br><span class="line">out 20h, al		; 向20h端口写入一个字节</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>256 ~ 65535</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mov dx, 3f8h</span><br><span class="line">in al, dx</span><br><span class="line">out dx, al</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h2 id="shl-shr"><a href="#shl-shr" class="headerlink" title="shl shr"></a>shl shr</h2><ul>
<li><p>shl 逻辑左移指令</p>
<ol>
<li>将一个寄存器或内存单元中的数据向左移</li>
<li>将最后移出的一位写入CF中</li>
<li>最低位用0补充</li>
</ol>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov al, 01001000b</span><br><span class="line">shl al, 1				; al = 10010000b, cf = 0</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>shr 逻辑右移指令</p>
<ol>
<li>将一个寄存器或内存单元中的数据向右移</li>
<li>将最后移出的一位写入CF中</li>
<li>最高位用0补充</li>
</ol>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov al, 10000001b</span><br><span class="line">shr al, 1				; al = 01000000b, cf = 1</span><br></pre></td></tr></table></figure></div></li>
</ul>
<h1 id="外中断"><a href="#外中断" class="headerlink" title="外中断"></a>外中断</h1><h2 id="外中断信息"><a href="#外中断信息" class="headerlink" title="外中断信息"></a>外中断信息</h2><ul>
<li><p>可屏蔽中断</p>
<ol>
<li>去中断类型码</li>
<li>标志寄存器入栈,IF&#x3D;0, TF&#x3D;0</li>
<li>CS, IP入栈</li>
<li>重置CS, IP</li>
</ol>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sti 		; IF = 1</span><br><span class="line">cli			; IF = 0</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>不可屏蔽中断</p>
<ol>
<li>标志寄存器入栈,IF&#x3D;0, TF&#x3D;0</li>
<li>CS, IP入栈</li>
<li>重置CS, IP</li>
</ol>
</li>
</ul>
<h1 id="直接定址表"><a href="#直接定址表" class="headerlink" title="直接定址表"></a>直接定址表</h1><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">assume cs:codesg, ds:datasg</span><br><span class="line"></span><br><span class="line">datasg segment</span><br><span class="line">        a   db 1, 2, 3, 4, 5, 6, 7, 8</span><br><span class="line">        b   dw, 0</span><br><span class="line">datasg ends</span><br><span class="line"></span><br><span class="line">codesg segment</span><br><span class="line">start:  </span><br><span class="line">            mov si, 0</span><br><span class="line">            mov cx, 8</span><br><span class="line">s:          mov al, a[si]</span><br><span class="line">            mov ah, 0</span><br><span class="line">            add b, ax</span><br><span class="line">            inc si</span><br><span class="line">            loop s</span><br><span class="line"></span><br><span class="line">            mov ax, 4c00h</span><br><span class="line">            int 21h</span><br><span class="line">codesg ends</span><br><span class="line">end start</span><br></pre></td></tr></table></figure></div>


        </div>

        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80/">#汇编语言</a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2022/07/29/2022-07-29-go-workspace/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Golang项目管理</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2022/04/10/2022-04-10-regex/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Regex</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">8086汇编</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-text">基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cpu-%E5%86%85%E5%AD%98-by-%E5%9C%B0%E5%9D%80%E7%BA%BF%EF%BC%8C%E6%95%B0%E6%8D%AE%E7%BA%BF%EF%BC%8C%E6%8E%A7%E5%88%B6%E7%BA%BF"><span class="nav-text">cpu 内存 by 地址线，数据线，控制线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4"><span class="nav-text">内存地址空间</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E5%9C%A8%E5%AF%84%E5%AD%98%E5%99%A8%E4%B8%AD%E7%9A%84%E5%AD%98%E5%82%A8"><span class="nav-text">字在寄存器中的存储</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%A0%E6%9D%A1%E6%B1%87%E7%BC%96%E5%91%BD%E4%BB%A4"><span class="nav-text">几条汇编命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E%E5%A4%9A%E5%B0%91%E4%BD%8DCPU%E7%9A%84%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5%EF%BC%88%E4%BB%A516%E4%BD%8D%E4%B8%BA%E4%BE%8B%EF%BC%89"><span class="nav-text">关于多少位CPU的一些概念（以16位为例）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8086CPU%E7%BB%99%E5%87%BA%E7%89%A9%E7%90%86%E5%9C%B0%E5%9D%80%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">8086CPU给出物理地址的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CS-IP"><span class="nav-text">CS&amp;IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9CS%E3%80%81IP"><span class="nav-text">修改CS、IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E6%AE%B5"><span class="nav-text">代码段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DosBox%E4%B8%ADdebug%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95"><span class="nav-text">DosBox中debug的一些常用用法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8%EF%BC%88%E5%86%85%E5%AD%98%E8%AE%BF%E9%97%AE%EF%BC%89"><span class="nav-text">寄存器（内存访问）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DS%E5%92%8C-address"><span class="nav-text">DS和[address]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mov%E3%80%81add%E3%80%81sub%E6%8C%87%E4%BB%A4"><span class="nav-text">mov、add、sub指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%AE%B5"><span class="nav-text">数据段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CPU%E6%8F%90%E4%BE%9B%E7%9A%84%E6%A0%88%E6%9C%BA%E5%88%B6"><span class="nav-text">CPU提供的栈机制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%BA%90%E7%A8%8B%E5%BA%8F"><span class="nav-text">源程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4%E5%92%8C%E4%BC%AA%E6%8C%87%E4%BB%A4"><span class="nav-text">汇编指令和伪指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BA%90%E7%A8%8B%E5%BA%8F%E6%A1%88%E4%BE%8B"><span class="nav-text">源程序案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BX-%E5%92%8Cloop%E6%8C%87%E4%BB%A4"><span class="nav-text">[BX]和loop指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5"><span class="nav-text">一些概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LOOP%E6%8C%87%E4%BB%A4"><span class="nav-text">LOOP指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AE%B5%E5%89%8D%E7%BC%80%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">段前缀的使用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8C%85%E5%90%AB%E5%A4%9A%E4%B8%AA%E6%AE%B5%E7%9A%84%E7%A8%8B%E5%BA%8F"><span class="nav-text">包含多个段的程序</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8%E4%BB%A3%E7%A0%81%E6%AE%B5%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE"><span class="nav-text">在代码段中使用数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9C%A8%E4%BB%A3%E7%A0%81%E6%AE%B5%E4%B8%AD%E4%BD%BF%E7%94%A8%E6%A0%88"><span class="nav-text">在代码段中使用栈</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E6%95%B0%E6%8D%AE%E3%80%81%E4%BB%A3%E7%A0%81%E3%80%81%E6%A0%88%E6%94%BE%E5%85%A5%E4%B8%8D%E5%90%8C%E7%9A%84%E6%AE%B5"><span class="nav-text">将数据、代码、栈放入不同的段</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%81%B5%E6%B4%BB%E7%9A%84%E5%AE%9A%E4%BD%8D%E5%86%85%E5%AD%98%E5%9C%B0%E5%9D%80%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">灵活的定位内存地址的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#and-%E5%92%8C-or"><span class="nav-text">and 和 or</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8Eascii%E7%A0%81"><span class="nav-text">关于ascii码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bx-idata"><span class="nav-text">[bx + idata]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SI-%E5%92%8C-DI"><span class="nav-text">SI 和 DI</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%9F%BA%E6%9C%AC%E9%97%AE%E9%A2%98"><span class="nav-text">数据处理的两个基本问题</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#bx-di-si-bp"><span class="nav-text">bx di si bp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E8%A6%81%E5%A4%84%E7%90%86%E7%9A%84%E6%95%B0%E6%8D%AE%E6%9C%89%E5%A4%9A%E9%95%BF"><span class="nav-text">指令要处理的数据有多长</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#div-%E6%8C%87%E4%BB%A4"><span class="nav-text">div 指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#db-dw-dd-dup"><span class="nav-text">db dw dd dup</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4%E7%9A%84%E5%8E%9F%E7%90%86"><span class="nav-text">转移指令的原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#offset"><span class="nav-text">offset</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jmp-%E6%8C%87%E4%BB%A4"><span class="nav-text">jmp 指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE"><span class="nav-text">标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%84%E5%AD%98%E5%99%A8-1"><span class="nav-text">寄存器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E5%AD%98"><span class="nav-text">内存</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%89%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-text">有条件转移指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E6%8C%87%E4%BB%A4"><span class="nav-text">循环指令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CALL%E5%92%8CRET%E6%8C%87%E4%BB%A4"><span class="nav-text">CALL和RET指令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ret-%E5%92%8C-retf"><span class="nav-text">ret 和 retf</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#call-%E6%8C%87%E4%BB%A4"><span class="nav-text">call 指令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6"><span class="nav-text">子程序框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mul-%E6%8C%87%E4%BB%A4"><span class="nav-text">mul 指令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%87%E5%BF%97%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-text">标志寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ZF-PF-SF-CF-OF-DF"><span class="nav-text">ZF PF SF CF OF DF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#adc-sbb-cmp"><span class="nav-text">adc sbb cmp</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A3%80%E6%B5%8B%E6%AF%94%E8%BE%83%E7%BB%93%E6%9E%9C%E7%9A%84%E6%9D%A1%E4%BB%B6%E8%BD%AC%E7%A7%BB%E6%8C%87%E4%BB%A4"><span class="nav-text">检测比较结果的条件转移指令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E4%B8%AD%E6%96%AD"><span class="nav-text">内中断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E8%BF%87%E7%A8%8B"><span class="nav-text">中断过程</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3"><span class="nav-text">端口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AB%AF%E5%8F%A3%E8%AF%BB%E5%86%99"><span class="nav-text">端口读写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#shl-shr"><span class="nav-text">shl shr</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%96%E4%B8%AD%E6%96%AD"><span class="nav-text">外中断</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%96%E4%B8%AD%E6%96%AD%E4%BF%A1%E6%81%AF"><span class="nav-text">外中断信息</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E5%AE%9A%E5%9D%80%E8%A1%A8"><span class="nav-text">直接定址表</span></a></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">fetch150zy</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        共 54 篇文章
                    </span>
                    
                </p>
            
        </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span>
            <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span>
        </div>
        
        
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>







    
<script src="/js/layouts/lazyload.js" type="module"></script>






  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>









<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
